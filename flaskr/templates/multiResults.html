{% extends 'layout.html' %}
{% block content %}
<div class="p-3 w-75 h-75 m-auto">

  <h1 class="mb-2"> Results of Multi-Text Analysis </h1>

    <div class="accordion" id="accordionExample">
      <!-- Sentence length results -->
      {% if "SLength" in selections %}
      <div class="accordion-item">
        <h2 class="accordion-header h5" id="headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#slength" aria-expanded="true" aria-controls="collapseOne">
            Sentence Length Statistics
          </button>
        </h2>
        <div id="slength" class="accordion-collapse collapse show" aria-labelledby="headingOne" >
          <div class="accordion-body">
            {% for result in results %}
              <div class = "div2" id = "senID">
                <b> Sentence Length Statistics of {{result.name}} </b>
                <p> Mean: {{ result.sen_avg }} </p>
                <p> Standard Deviation: {{ result.sen_stdv }} </p>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Part of speech results -->
      {% if "POS" in selections %}
      <div class="accordion-item">
        <h2 class="accordion-header h5" id="headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#pos" aria-expanded="true" aria-controls="collapseOne">
            Part of Speech Distribution
          </button>
        </h2>
        <div id="pos" class="accordion-collapse collapse show" aria-labelledby="headingOne">
          <div class="accordion-body">
            {% for result in results %}
              <h6> Part of Speech Distribution for {{result.name}} </h6>
              <img src = {{ '/static/graphs/' + result.pos + '.png'  }} width = 55% alt = 'figure' >
            {% endfor %}
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Top words results -->
      {% if "TopWords" in selections %}
      <div class="accordion-item">
        <h2 class="accordion-header h5" id="headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#topwords" aria-expanded="true" aria-controls="collapseOne">
            Graph of Top Words
          </button>
        </h2>
        <div id="topwords" class="accordion-collapse collapse show" aria-labelledby="headingOne">
          <div class="accordion-body">
            {% for result in results %}
              <img src = {{ '/static/graphs/' + result.top + '.png'  }} width = 55% alt = 'figure' >
            {% endfor %}
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Overlap words results -->
      {% if "over" in selections %}
      <div class="accordion-item">
        <h2 class="accordion-header h5" id="headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#overlap" aria-expanded="true" aria-controls="collapseOne">
            Graph of Overlapped Words
          </button>
        </h2>
        <div id="overlap" class="accordion-collapse collapse show" aria-labelledby="headingOne">
          <div class="accordion-body">
            {% for result in overlap %}
              <h6> Graph of Overlap for {{result[0]}} </h6>
              <img src = {{ '/static/graphs/' + result[1] + '.png'  }} width = 55% alt = 'figure' >
            {% endfor %}
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Word progresison results -->
      {% if "WordProg" in selections %}
      <div class="accordion-item">
        <h2 class="accordion-header h5" id="headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#wordprog" aria-expanded="true" aria-controls="collapseOne">
            Graph of Word Progression
          </button>
        </h2>
        <div id="wordprog" class="accordion-collapse collapse show" aria-labelledby="headingOne">
          <div class="accordion-body">
            {% for result in results %}
              <img src = {{ '/static/graphs/' + result.wp + '.png'  }} width = 55% alt = 'figure' >
            {% endfor %}
          </div>
        </div>
      </div>
      {% endif %}

      <!-- TFIDF progresison results -->
      {% if "tfidf" in selections %}
      <div class="accordion-item">
        <h2 class="accordion-header h5" id="headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#tfidf" aria-expanded="true" aria-controls="collapseOne">
            TF-IDF data
          </button>
        </h2>
        <div id="tfidf" class="accordion-collapse collapse show" aria-labelledby="headingOne">
          <div class="accordion-body">
            {% for result in results %}
              <img src = {{ '/static/graphs/' + result.wp + '.png'  }} width = 55% alt = 'figure' >
            {% endfor %}
          </div>
        </div>
      </div>
      {% endif %}
    </div>

  <script>
    function displayNum(divID,val) {
      var x = document.getElementById(divID.id);
      if (val  > -0.1){
        x.style.display = "block";
      }  else{
        x.style.display = "none";
      }
    }
    displayNum(pqID,{{results[0].pq}});
    displayNum(senID,{{results[0].sen}});
  </script>



  <script>
  function displayGraph(divID,val) {
    var x = document.getElementById(divID.id);
    if(val == 1.0){//string comparison not working and val == 1 didn't work
      x.style.display = "none";
    }  else{
      x.style.display = "block";
    }
  }
  </script>

{#
<!--
// <script>displayGraph(posID,{{results[0].pos}});</script>
// <script>displayGraph(topID,{{results[0].top}});</script>
// <script>displayGraph(wpID,{{results[0].wp}});</script>
// <script>displayGraph(overID,{{overlap[0][1]}});</script>
-->
#}

{% endblock %}

</div>
